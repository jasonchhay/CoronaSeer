{% extends 'seer/base.html' %}
{% load static %}

{% block css %}
	<link rel="stylesheet" href="{% static 'css/document.css' %}">
	<link rel="stylesheet" href="{% static 'css/jsonview.css' %}">
{% endblock %}

{% block content %}
	<div class="document-container">
		<div class="row">
			<div style="width: 100%;"><a href="javascript:history.back()">Back to Results</a></div>
			<h2 id="document-title">{{ title }}</h2>
			<h5>
				{% for author in authors %}
					{{author.name}}
					{% if forloop.counter < authors|length %}, {% endif %}
				{% endfor %}
			</h5>
		</div>
		<!--
		<div class="row">
			<h3>Authors</h3>
				<div class="author-container">
					{% for author in authors %}
					<div class="author">
						<div class="author-info">
							<h5>{{ author.name }}</h5>
							<p>{{ author.institution }}</p>
							<p>{{ author.laboratory }}</p>
							<p>{{ author.location.settlement }}, {{ author.location.region }}, {{ author.location.country }}</p>
						</div>
					</div>
					{% endfor %}
				</div>
		</div>
		-->
		<div class="row">
			<div style="width: 100%;"><h3>Abstract</h3></div>
			<div><p>{{ abstract }}</p></div>
		</div>
		<div class="row">
			<div><h3>Body</h3></div>
			<div><p>{{ body }}</p></div>
		</div>
	</div>
	<div class="json"></div>
{% endblock %}

{% block javascript %}
	<script type="text/javascript" src="{% static 'js/jsonview.js' %}"></script>
	<script>
		var data = "{{ json }}";
		data = data.replace('"', "\"");
		data = data.replace(/&quot;/g, '"');
		
		let target = '.json';
		jsonView.format(data, target);
	</script>
{% endblock %}