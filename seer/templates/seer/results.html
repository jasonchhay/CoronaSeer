{% extends "seer/base.html" %}
{% load static %}

{% block css %}
	<link rel="stylesheet" href="{% static 'css/results.css' %}">
{% endblock %}

{% block content %}
	<div class="container results-container">
		<div class="result-container col-md-10">
			<div id="search-container col-md-10">
				<img src="{% static "img/icon.png" %}" alt="CoronaSeer Logo"  height="60" width="140"/>
		        <form method="post" action="{% url 'search' %}">
		            {% csrf_token %}
			        <div class="search-bar-wrapper">
				            <input type="text" name="q" id="search-box" class='form-control' value="{{ q }}"/>
				            <input type="hidden" name="type" id="q_type" value="Figures"/>
					        <button type="submit" value="Search" class="search-button btn">
						        <i class="fas fa-search"></i>
					        </button>
			        </div>
		        <br/>
		        </form>
			</div>
			
			<div id="result_info">
				Results <strong>{{position}} - {{nextResults}} </strong> of <strong>{{total}}</strong>
			</div>
	
			<div class="result_list">
			{% for hit in results %}
				{% autoescape off %}
					<div class="result">
						
							<div class="url" >
						<h5>		<b><a href="{% url 'document' document_id=hit.resultid %}">{{hit.title}}</a></b> </h5>
		                        <!--<p>{{ hit.c }} </p></div>-->
		                        <div class="description" ><p class="small">{{ hit.description }}</p></div>
		                        <!--<div class="prior"><b><a href="{{MEDIA_URL}}/{{hit.previous_image}}">Previous Frame</a></b></div>
		                        <div class="next"><b><a href="{{MEDIA_URL}}/{{hit.next_image}}">Next Frame</a></b></div>
		                       -->
							</div>
			         </div>
				{% endautoescape%}
			{% endfor%}
			<div class="location" ><p class="small">{{ hit.affiliation }}</p></div>
			</div>
			
			<div class="pager">
				{% if prevResults != prevPageLimit and prevPage > 0 %}
				<a href="{% url 'search' %}?q={{q}}&page={{ prevPage }}" id="prev-page">Prev</a>
				{% endif %}
				
				{% for i in prevPageList %}
					<a href="{% url 'search' %}?q={{q}}&page={{ i }}">{{ i }}</a>
				{% endfor %}
				<strong>{{ page }}</strong>
				{% for i in nextPageList %}
					<a href="{% url 'search' %}?q={{q}}&page={{ i }}">{{ i }}</a>
				{% endfor %}
				
				{% if nextResults != nextPageLimit and nextPage <= nextPageLimit %}
				<a href="{% url 'search' %}?q={{q}}&page={{ nextPage }}" id="next-page">Next</a>
				{% endif %}
			</div>

		</div>
	</div>
{% endblock %}